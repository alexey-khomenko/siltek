<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, width=device-width">
    <link href="js/scripts.js" rel="preload" as="script">
    <link rel="stylesheet" href="template.css">
    <link rel="stylesheet" href="css/styles.css">
    <title>Калькулятор вартості тонування водно-дисперсійних матеріалів ТМ SILTEK
    </title>
  </head>
  <body>
    <section class="section-page">
      <div class="container-middle">
        <div class="row-page">
          <article class="section-article">
            <div class="flex-h1">
              <h1 class="title-category-h1">Калькулятор вартості тонування водно-дисперсійних матеріалів ТМ SILTEK
              </h1>
            </div>
            <div class="section-content">
              <form class="block-form-questions text-center bxm-calculator-wrap" action="ajax.php" x-data="calculatorData()" x-init="loadProducts()" @submit.prevent="">
                <div class="bxm-steps">
                  <table x-show="step === 1">
                    <tbody>
                      <tr>
                        <td class="text-right bxm-step-1-left"><strong>Продукт</strong></td>
                        <td>
                          <select name="product" @change="product = $event.target.value; loadColors();" :disabled="!products.length">
                            <template x-if="!product">
                              <option></option>
                            </template>
                            <template x-for="item in products" :key="item.id">
                              <option :value="item.id" x-text="item.name"></option>
                            </template>
                          </select>
                        </td>
                        <td class="bxm-step-1-right" rowspan="4">
                          <div class="bxm-step-1-right-inner">
                            <template x-if="photo.length"><img :src="photo"></template>
                            <template x-if="loading">
                              <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="48" height="48">
                                <path fill="currentColor" d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"></path>
                              </svg>
                            </template>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td class="text-right bxm-step-1-left"><strong>Номер кольору</strong></td>
                        <td>
                          <select name="color" @change="color = $event.target.value; loadPacks()" :disabled="!colors.length">
                            <template x-if="!color">
                              <option></option>
                            </template>
                            <template x-for="item in colors" :key="item.id">
                              <option :value="item.id" x-text="item.name"></option>
                            </template>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <td class="text-right bxm-step-1-left"><strong>Тара</strong></td>
                        <td>
                          <select name="pack" @change="pack = $event.target.value; loadPigments()" :disabled="!packs.length">
                            <template x-if="!pack">
                              <option></option>
                            </template>
                            <template x-for="item in packs" :key="item.id">
                              <option :value="item.id" x-text="item.name"></option>
                            </template>
                          </select>
                        </td>
                      </tr>
                      <tr>
                        <td class="text-right bxm-step-1-left"><strong>База</strong></td>
                        <td>
                          <div class="bxm-base" x-text="base"></div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <table x-show="step === 2" x-cloak>
                    <tbody>
                      <tr>
                        <td><strong>Пігмент</strong></td>
                        <td><strong>Кількість, мл</strong></td>
                        <td class="bxm-step-2-right"><strong>Ціна пігменту, грн з ПДВ</strong></td>
                      </tr>
                      <template x-for="item in pigments">
                        <tr>
                          <td x-text="item.name"></td>
                          <td x-text="item.quantity"></td>
                          <td x-text="item.price"></td>
                        </tr>
                      </template>
                      <tr>
                        <td class="text-right" colspan="3">&nbsp;</td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2">Ціна пігментів, грн. з ПДВ</td>
                        <td x-text="pigments_price"></td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2">Доплата за тонування, грн. з ПДВ</td>
                        <td x-text="pigments_price_up"></td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2"><strong>Загальна вартість тонування, грн. з ПДВ</strong></td>
                        <td><strong x-text="pigments_price_amount"></strong></td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2">Рекомендована роздрібна вартість продукту-основи, грн. з ПДВ</td>
                        <td x-text="base_price"></td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2"><strong>% знижки</strong></td>
                        <td>
                          <input class="text-center bxm-step-2-right-inner" type="number" step="0.1" min="0.00" max="100.0" name="base_discount" x-model="base_discount" x-spread="discount">
                        </td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2">Вартість продукту-основи зі знижкою, грн з ПДВ</td>
                        <td x-text="base_amount"></td>
                      </tr>
                      <tr>
                        <td class="text-right" colspan="2"><strong>Сума, грн з ПДВ</strong></td>
                        <td><strong x-text="amount"></strong></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="row between-xs" x-show="step === 1">
                  <div class="col-xs-6 text-left"><a class="button gray-button" href="#">Назад</a></div>
                  <div class="col-xs-6 text-right">
                    <button class="button" type="submit" :disabled="!pigments.length" @click="step = 2">Далі</button>
                  </div>
                </div>
                <div class="row between-xs" x-show="step === 2" x-cloak>
                  <div class="col-xs-6 text-left">
                    <button class="button gray-button" type="button" @click="step = 1">Назад</button>
                  </div>
                  <div class="col-xs-6 text-right"><a class="button" href="#">Готово</a></div>
                </div>
              </form>
            </div>
          </article>
          <aside class="aside"></aside>
        </div>
      </div>
    </section>
    <script src="js/scripts.js" defer="defer"></script>
  </body>
</html>